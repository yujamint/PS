# 원더랜드(최소스패닝트리 : 프림, PriorityQueue)

## 문제

```
[설명]
원더랜드에 문제가 생겼다. 원더랜드의 각 도로를 유지보수하는 재정이 바닥난 것이다.

원더랜드는 모든 도시를 서로 연결하면서 최소의 유지비용이 들도록 도로를 선택하고 나머지 도로는 폐쇄하려고 한다.

아래의 그림은 그 한 예를 설명하는 그림이다.
```
![Image](https://cote.inflearn.com/public/upload/7d06ee1336.jpg)
```
위의 지도는 각 도시가 1부터 9로 표현되었고, 지도의 오른쪽은 최소비용 196으로 모든 도시를 연결하는 방법을 찾아낸 것이다.


[입력]
첫째 줄에 도시의 개수 V(1≤V≤100)와 도로의 개수 E(1≤E≤1,000)가 주어진다.

다음 E개의 줄에는 각 도로에 대한 정보를 나타내는 세 정수 A, B, C가 주어진다.

이는 A번 도시와 B번 도시가 유지비용이 C인 도로로 연결되어 있다는 의미이다.


[출력]
모든 도시를 연결하면서 드는 최소비용을 출려한다.
```
```
예시 입력 1 
9 12
1 2 12
1 9 25
2 3 10
2 8 17
2 9 8
3 4 18
3 7 55
4 5 44
5 6 60
5 7 38
7 8 35
8 9 15

예시 출력 1
196
```

크루스칼은 그래프와 상관 없이 가중치가 적은 간선부터 막 선택해나갔지만, 프림은 입력받은 그래프를 만들어야 되기 때문에 인접리스트를 생성한다.

**프림 알고리즘**
- step 0) 임의의 정점을 선택하여 트리에 포함한다.
- step 1) 트리에 있는 정점과 트리에 있지 않은 정점을 연결하는 간선 중 가중치가 최소인 간선을 찾는다.
- step 2) 찾은 간선이 연결하는 두 정점 중, 트리에 포함돼있지 않은 정점을 트리에 추가한다.


**풀이방법**
- 정점과 가중치를 속성으로 갖는 Edge 클래스를 생성한다.
  - 가중치가 낮은 간선부터 고르기 위해 cost로 오름차순 정렬
- 각 정점마다 어떤 정점과 연결되어 있는지, 즉 간선 정보를 저장하고 그래프를 표현하는 인접리스트를 만든다.
   - 인접리스트에 간선 정보를 넣을 때, 무방향 그래프이므로 양방향 모두 넣는다.
      - ex) (v1 = 1, v2 = 3, cost = 12)일 경우, (1,3,12)와 (3,1,12) 모두 추가
- Edge 객체를 담는 Priority Queue를 생성한다.
- 임의의 점(시작점)을 pQ에 넣고 다음 과정을 반복한다.
   1. pQ에서 정점을 뽑는다. (pQ이기 때문에 poll을 하면 자동으로 가중치가 가장 낮은 정점 뽑힘)
   2. 뽑은 정점이 트리에 포함돼있지 않은 점이라면 트리에 추가하고, 이 정점과 연결된 모든 정점을 pQ에 추가한다.
- 위 과정을 계속 반복하면, 연결돼있는 간선 중에 (1)트리에 포함돼있지 않고, (2) 가중치가 가장 낮은 간선들만 뽑아가며 트리를 완성시킨다.ㅁ

**얻어갈 것**
- 무방향 그래프라면 인접 그래프에 간선 정보를 추가할 때, 두 방향 모두 추가한다.
- 위에 작성한 프림 알고리즘의 Step 1, 즉 가중치가 최소인 간선을 찾는 과정을 Priority Queue로 간단하게 해결한다.
   - 연결된 모든 간선을 pQ에 추가하고, poll하면 가중치가 최소인 간선 뽑게 됨
   - 이미 트리에 들어있는 정점인지에 대한 검사는 필요함
- 크루스칼은 임의의 점을 정해놓지 않고, 무조건 가중치가 적은 순서대로 간선들을 추가한다.
  - 크루스칼에선 Union&Find를 통해 Cycle을 방지한다.
- 프림은 임의의 점을 정해놓고 그 점과 연결된 간선 중에 가중치가 적은 간선을 선택해가며 점점 확장시켜나감.
   - 프림은 ch 배열을 통해 Cycle을 방지한다.
- 이 문제가 왜 Greedy일까? -> 최소스패닝트리를 완성하기 위해 임의의 정점을 선택하고 그 정점과 연결된 간선들 중에 가중치가 제일 작은 간선만 선택한다. 즉, 정점을 하나 정하며 상황을 제한해놓고 최선의 선택(가중치가 가장 적은 간선)만 하는 것이다.